# app.kv (fixed and compatible with main.py)

ScreenManager:
    LoginScreen:
    MainScreen:

<LoginScreen>:
    name: "login"
    MDFloatLayout:
        MDLabel:
            text: "Login"
            halign: "center"
            pos_hint: {"center_y": 0.85}
            font_style: "H4"

        MDTextField:
            id: username
            hint_text: "Username"
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            size_hint_x: 0.8

        MDTextField:
            id: password
            hint_text: "Password"
            password: True
            pos_hint: {"center_x": 0.5, "center_y": 0.55}
            size_hint_x: 0.8

        MDRaisedButton:
            text: "Login"
            pos_hint: {"center_x": 0.5, "center_y": 0.45}
            on_press: root.login()

        MDLabel:
            id: login_message
            text: ""
            halign: "center"
            pos_hint: {"center_y": 0.35}
            theme_text_color: "Error"

<MainScreen>:
    name: "main"

    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'inventory'
            text: 'Inventory'
            icon: 'package-variant'

            BoxLayout:
                orientation: 'vertical'
                padding: dp(10)
                spacing: dp(10)

                MDLabel:
                    text: "Product Inventory"
                    halign: "center"
                    font_style: "H6"
                    size_hint_y: None
                    height: dp(40)

                ScrollView:
                    MDList:
                        id: inventory_list

        MDBottomNavigationItem:
            name: 'manage'
            text: 'Manage Products'
            icon: 'plus-box-outline'

            MDBoxLayout:
                orientation: 'vertical'
                padding: dp(20)
                spacing: dp(10)

                MDTextField:
                    id: name_field
                    hint_text: "Product Name"

                MDTextField:
                    id: qty_field
                    hint_text: "Quantity"
                    input_filter: "int"

                MDTextField:
                    id: price_field
                    hint_text: "Price"
                    input_filter: "float"

                MDTextField:
                    id: exp_field
                    hint_text: "Expiration Date (YYYY-MM-DD)"

                MDRaisedButton:
                    text: "Add Product"
                    on_release: app.submit_product()

                MDSeparator:
                    height: dp(20)

                MDTextField:
                    id: delete_field
                    hint_text: "Enter product name to delete"

                MDRaisedButton:
                    text: "Delete Product"
                    on_release: app.delete_product_from_manage()

        MDBottomNavigationItem:
            name: 'transactions'
            text: 'Transactions'
            icon: 'cash-multiple'

            MDBoxLayout:
                orientation: 'vertical'
                padding: dp(20)
                spacing: dp(20)

                MDLabel:
                    text: "Transactions (Coming Soon)"
                    halign: "center"
                    font_style: "H6"

        MDBottomNavigationItem:
            name: 'history'
            text: 'History'
            icon: 'history'

            MDBoxLayout:
                orientation: 'vertical'
                padding: dp(20)
                spacing: dp(20)

                MDLabel:
                    text: "Transaction Logs (Coming Soon)"
                    halign: "center"
                    font_style: "H6"

        MDBottomNavigationItem:
            name: 'employees'
            text: 'Employees'
            icon: 'account-group-outline'

            MDBoxLayout:
                orientation: 'vertical'
                padding: dp(20)
                spacing: dp(20)

                MDLabel:
                    text: "Employee Section (Coming Soon)"
                    halign: "center"
                    font_style: "H6"
