ScreenManager:
    LoginScreen:
    MainScreen:
    AddProductScreen:
    DeleteProductScreen:

<LoginScreen>:
    name: "login"
    MDFloatLayout:
        MDLabel:
            text: "Login"
            halign: "center"
            pos_hint: {"center_y": 0.85}
            font_style: "H4"

        MDTextField:
            id: username
            hint_text: "Username"
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            size_hint_x: 0.8

        MDTextField:
            id: password
            hint_text: "Password"
            password: True
            pos_hint: {"center_x": 0.5, "center_y": 0.55}
            size_hint_x: 0.8

        MDRaisedButton:
            text: "Login"
            pos_hint: {"center_x": 0.5, "center_y": 0.45}
            on_press: root.login()

        MDLabel:
            id: login_message
            text: ""
            halign: "center"
            pos_hint: {"center_y": 0.35}
            theme_text_color: "Error"

<MainScreen>:
    name: "main"

    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'inventory'
            text: 'Inventory'
            icon: 'package-variant'

            BoxLayout:
                orientation: 'vertical'
                padding: dp(10)
                spacing: dp(10)

                MDLabel:
                    text: "Product Inventory"
                    halign: "center"
                    font_style: "H6"
                    size_hint_y: None
                    height: dp(40)

                ScrollView:
                    MDList:
                        id: inventory_list

        MDBottomNavigationItem:
            name: 'manage'
            text: 'Manage Products'
            icon: 'cog-outline'

            BoxLayout:
                orientation: 'vertical'
                spacing: dp(15)
                padding: dp(20)

                Widget:

                MDLabel:
                    text: "Select Product Action"
                    halign: "center"
                    font_style: "H6"
                    size_hint_y: None
                    height: dp(40)

                MDRaisedButton:
                    text: "Add Product"
                    icon: "plus-box"
                    pos_hint: {"center_x": 0.5}
                    on_release: app.root.current = 'add_product'

                MDRaisedButton:
                    text: "Delete Product"
                    icon: "delete"
                    pos_hint: {"center_x": 0.5}
                    on_release: app.root.current = 'delete_product'

                Widget:

        MDBottomNavigationItem:
            name: 'transactions'
            text: 'Transactions'
            icon: 'cash-multiple'

            MDBoxLayout:
                orientation: 'vertical'
                padding: dp(20)
                spacing: dp(20)

                MDLabel:
                    text: "Transactions (Coming Soon)"
                    halign: "center"
                    font_style: "H6"

        MDBottomNavigationItem:
            name: 'history'
            text: 'History'
            icon: 'history'

            MDBoxLayout:
                orientation: 'vertical'
                padding: dp(20)
                spacing: dp(20)

                MDLabel:
                    text: "Transaction Logs (Coming Soon)"
                    halign: "center"
                    font_style: "H6"

        MDBottomNavigationItem:
            name: 'employees'
            text: 'Employees'
            icon: 'account-group-outline'

            MDBoxLayout:
                orientation: 'vertical'
                padding: dp(20)
                spacing: dp(20)

                MDLabel:
                    text: "Employee Section (Coming Soon)"
                    halign: "center"
                    font_style: "H6"

<AddProductScreen>:
    name: "add_product"
    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(20)
        spacing: dp(10)

        MDTopAppBar:
            title: "Add Product"
            left_action_items: [["arrow-left", lambda x: setattr(app.root, "current", "main")]]

        Widget:

        MDTextField:
            id: name_field
            hint_text: "Product Name"
        MDLabel:
            id: name_warn
            text: ""
            theme_text_color: "Error"
            font_style: "Caption"

        MDTextField:
            id: qty_field
            hint_text: "Quantity"
            input_filter: "int"
        MDLabel:
            id: qty_warn
            text: ""
            theme_text_color: "Error"
            font_style: "Caption"

        MDTextField:
            id: price_field
            hint_text: "Price"
            input_filter: "float"
        MDLabel:
            id: price_warn
            text: ""
            theme_text_color: "Error"
            font_style: "Caption"

        MDTextField:
            id: exp_field
            hint_text: "Expiration Date (YYYY-MM-DD)"
        MDLabel:
            id: exp_warn
            text: ""
            theme_text_color: "Error"
            font_style: "Caption"

        MDRaisedButton:
            text: "Submit"
            pos_hint: {"center_x": 0.5}
            on_release: app.submit_product()

        Widget:

<DeleteProductScreen>:
    name: "delete_product"
    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(20)
        spacing: dp(10)

        MDTopAppBar:
            title: "Delete Product"
            left_action_items: [["arrow-left", lambda x: setattr(app.root, "current", "main")]]

        Widget:

        MDTextField:
            id: delete_field
            hint_text: "Enter product name to delete"

        MDLabel:
            id: delete_warn
            text: ""
            theme_text_color: "Error"
            font_style: "Caption"

        MDRaisedButton:
            text: "Delete"
            pos_hint: {"center_x": 0.5}
            on_release: app.delete_product_from_manage()

        Widget:
